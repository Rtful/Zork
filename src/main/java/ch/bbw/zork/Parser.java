package ch.bbw.zork;/* * author:  Michael Kolling, Version: 1.0, Date: July 1999 * refactoring: Rinaldo Lanza, September 2020 */import java.io.BufferedReader;import java.io.IOException;import java.io.InputStream;import java.io.InputStreamReader;import java.util.StringTokenizer;public class Parser {    private CommandWords validCommandWords;    private InputStream inputStream;    public Parser(InputStream inputStream) {        this.inputStream = inputStream;        this.validCommandWords = new CommandWords();    }    public Command getCommand() throws IOException, IllegalArgumentException {        String inputLine;        System.out.print("> ");        BufferedReader bufferedReader = new BufferedReader(new InputStreamReader(this.inputStream));        inputLine = bufferedReader.readLine();        String[] tokens = inputLine.split(" ");        if (tokens.length == 1) {            if (validCommandWords.isCommand(tokens[0])) {                return new Command(tokens[0]);            }        } else if (tokens.length == 2) {            if (validCommandWords.isCommand(tokens[0])) {                return new Command(tokens[0], tokens[1]);            }        }        throw new IllegalArgumentException();    }    public String showCommands() {        return validCommandWords.showAll();    }}